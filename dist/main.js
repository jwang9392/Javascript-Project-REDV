!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=28)}([function(t,e,n){"use strict";var r=n(1),o=Object.prototype.toString;function i(t){return"[object Array]"===o.call(t)}function a(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function c(t){return"[object Function]"===o.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:a,isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:c,isStream:function(t){return s(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]="object"==typeof n?t({},n):n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return e},extend:function(t,e,n){return u(e,(function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(0);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))})))})),i=a.join("&")}if(i){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var r=n(0),o=n(17),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(s=n(5)),s),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){c.headers[t]=r.merge(i)})),t.exports=c}).call(this,n(16))},function(t,e,n){"use strict";var r=n(0),o=n(18),i=n(2),a=n(20),s=n(23),c=n(24),u=n(6);t.exports=function(t){return new Promise((function(e,f){var l=t.data,d=t.headers;r.isFormData(l)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",m=t.auth.password||"";d.Authorization="Basic "+btoa(h+":"+m)}var g=a(t.baseURL,t.url);if(p.open(t.method.toUpperCase(),i(g,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:t,request:p};o(e,f,r),p=null}},p.onabort=function(){p&&(f(u("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){f(u("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),f(u(e,t,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var y=n(25),v=(t.withCredentials||c(g))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;v&&(d[t.xsrfHeaderName]=v)}if("setRequestHeader"in p&&r.forEach(d,(function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete d[e]:p.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),f(t),p=null)})),void 0===l&&(l=null),p.send(l)}))}},function(t,e,n){"use strict";var r=n(19);t.exports=function(t,e,n,o,i){var a=new Error(t);return r(a,e,n,o,i)}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e){e=e||{};var n={},o=["url","method","params","data"],i=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(o,(function(t){void 0!==e[t]&&(n[t]=e[t])})),r.forEach(i,(function(o){r.isObject(e[o])?n[o]=r.deepMerge(t[o],e[o]):void 0!==e[o]?n[o]=e[o]:r.isObject(t[o])?n[o]=r.deepMerge(t[o]):void 0!==t[o]&&(n[o]=t[o])})),r.forEach(a,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])}));var s=o.concat(i).concat(a),c=Object.keys(e).filter((function(t){return-1===s.indexOf(t)}));return r.forEach(c,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])})),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){t.exports=n(11)},function(t,e,n){},function(t,e,n){"use strict";var r=n(0),o=n(1),i=n(12),a=n(7);function s(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var c=s(n(4));c.Axios=i,c.create=function(t){return s(a(c.defaults,t))},c.Cancel=n(8),c.CancelToken=n(26),c.isCancel=n(3),c.all=function(t){return Promise.all(t)},c.spread=n(27),t.exports=c,t.exports.default=c},function(t,e,n){"use strict";var r=n(0),o=n(2),i=n(13),a=n(14),s=n(7);function c(t){this.defaults=t,this.interceptors={request:new i,response:new i}}c.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},c.prototype.getUri=function(t){return t=s(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,n,o){return this.request(r.merge(o||{},{method:t,url:e,data:n}))}})),t.exports=c},function(t,e,n){"use strict";var r=n(0);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},function(t,e,n){"use strict";var r=n(0),o=n(15),i=n(3),a=n(4);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return s(t),e.data=o(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(s(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,u=[],f=!1,l=-1;function d(){f&&c&&(f=!1,c.length?u=c.concat(u):l=-1,u.length&&p())}function p(){if(!f){var t=s(d);f=!0;for(var e=u.length;e;){for(c=u,u=[];++l<e;)c&&c[l].run();l=-1,e=u.length}c=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new h(t,e)),1!==u.length||f||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(6);t.exports=function(t,e,n){var o=n.config.validateStatus;!o||o(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(21),o=n(22);t.exports=function(t,e){return t&&!r(e)?o(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,a={};return t?(r.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},function(t,e,n){"use strict";var r=n(0);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(0);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(8);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";n.r(e);n(10),new google.maps.KmlLayer({url:"",map:window.map});var r=n(9),o=n.n(r),i={"Central Harlem":["10026","10027","10030","10037","10039"],"Chelsea and Clinton":["10001","10011","10018","10019","10020","10036"],"East Harlem":["10029","10035"],"Gramercy Park and Murray Hill":["10010","10016","10017","10022"],"Greenwich Village and Soho":["10012","10013","10014"],"Lower Manhattan":["10004","10005","10006","10007","10038","10280"],"Lower East Side":["10002","10003","10009"],"Upper East Side":["10021","10028","10044","10065","10075","10128"],"Upper West Side":["10023","10024","10025"],"Inwood and Washington Heights":["10031","10032","10033","10034","10040"]},a={10001:[40.7537,-73.9992],10011:[40.7465,-74.0094],10018:[40.7553,-73.9933],10019:[40.7687,-73.9918],10020:[40.7606,-73.9823],10036:[40.7603,-73.9933]},s=function(t,e,n){var r=t.split("")[0];if(void 0===n[e][r]){var o={};o[t]=1,n[e][r]=o}else n[e][r]&&n[e][r][t]?n[e][r][t]+=1:n[e][r][t]=1},c=function(t){var e=d3.select("#dropdownSVG"),n={};n.locality=t,n.container=e,n.fontSize=20,n.color="#333",n.fontFamily="calibri",n.x=0,n.y=0,n.optionHeight=40,n.height=40,n.width=200,n.hoverColor="#0c56f5",n.hoverTextColor="#fff",n.backgroundColor="#fff",n.padding=5,n.changeHandler=function(t){var e;console.log(a[t]),function(t,e){var n=new google.maps.LatLng(t,e);window.map.panTo(n),window.map.setZoom(15)}(a[t][0],a[t][1]),(e=t,o.a.get("/NYODQ/".concat(e)).then((function(t){return console.log(t.data),t.data}))).then((function(t){d3.select("#pieSVG").remove(),function(t){d3.select(".pie-container").append("svg").attr("id","pieSVG").attr("height",window.innerHeight).attr("width",400);var e=d3.scaleOrdinal().range(d3.quantize(d3.interpolateRainbow,t.children.length+1)),n=(d3.format(",d"),d3.arc().startAngle((function(t){return t.x0})).endAngle((function(t){return t.x1})).padAngle((function(t){return Math.min((t.x1-t.x0)/2,.005)})).padRadius(72.5).innerRadius((function(t){return t.y0*(290/6)*1.4})).outerRadius((function(t){return Math.max(t.y0*(290/6)*1.9,t.y1*(290/6)*1.9-1)}))),r=function(t){var e=d3.hierarchy(t).sum((function(t){return t.size})).sort((function(t,e){return e.value-t.value}));return d3.partition().size([2*Math.PI,e.height+1])(e)}(t);r.each((function(t){t.current=t}));var o=d3.select("#pieSVG"),i=o.append("g").attr("height",300).attr("width",300).on("mouseleave",(function(t){d3.selectAll("path").on("mouseover",null),d3.selectAll("path").transition().duration(200).style("opacity",1).on("end",(function(){d3.select(this).on("mouseover",d)})),c.text("")})),a=(i.append("circle").attr("r","195").attr("fill","white").attr("transform","translate(200, 200)"),i.append("g").attr("transform","translate(200, 200)").selectAll("path").data(r.descendants().slice(1)).enter().append("path").attr("fill",(function(t){for(;t.depth>1;)t=t.parent;return e(t.data.name)})).attr("fill-opacity",(function(t){return p(t.current)?t.children?.6:.4:0})).attr("d",(function(t){return n(t.current)})).on("mouseover",d));a.filter((function(t){return t.children})).style("cursor","pointer").on("click",f),a.append("title").text((function(t){return"".concat(t.value)}));var s=i.append("g").attr("pointer-events","none").attr("text-anchor","middle").attr("transform","translate(200, 200)").style("user-select","none").selectAll("text").data(r.descendants().slice(1)).enter().append("text").attr("dy","0.35em").attr("fill-opacity",(function(t){return+h(t.current)})).attr("transform",(function(t){return m(t.current)})).text((function(t){return t.data.name})),c=o.append("text").attr("id","title").attr("x",290/1.1).attr("y",145).attr("text-anchor","middle").attr("transform","translate(-62, 65)").style("font-size","2em"),u=i.append("circle").datum(r).attr("r",290/6).attr("fill","none").attr("pointer-events","all").attr("transform","translate(200, 200)").on("click",f);function f(t){u.datum(t.parent||r),r.each((function(e){return e.target={x0:2*Math.max(0,Math.min(1,(e.x0-t.x0)/(t.x1-t.x0)))*Math.PI,x1:2*Math.max(0,Math.min(1,(e.x1-t.x0)/(t.x1-t.x0)))*Math.PI,y0:Math.max(0,e.y0-t.depth),y1:Math.max(0,e.y1-t.depth)}}));var e=i.transition().duration(750);a.transition(e).tween("data",(function(t){var e=d3.interpolate(t.current,t.target);return function(n){return t.current=e(n)}})).filter((function(t){return+this.getAttribute("fill-opacity")||p(t.target)})).attr("fill-opacity",(function(t){return p(t.target)?t.children?.6:.4:0})).attrTween("d",(function(t){return function(){return n(t.current)}})),s.filter((function(t){return+this.getAttribute("fill-opacity")||h(t.target)})).transition(e).attr("fill-opacity",(function(t){return+h(t.target)})).attrTween("transform",(function(t){return function(){return m(t.current)}}))}var l=r.descendants()[0].value;function d(t){var e=(100*t.value/l).toPrecision(3),n=e+"%";e<.1&&(n="< 0.1%"),c.text(n+" ");var r=t.ancestors().reverse();r.shift(),d3.selectAll("path").style("opacity",.3),i.selectAll("path").filter((function(t){return r.indexOf(t)>=0})).style("opacity",1)}function p(t){return t.y1<=2&&t.y0>=1&&t.x1>t.x0}function h(t){return t.y1<=2&&t.y0>=1&&(t.y1-t.y0)*(t.x1-t.x0)>.03}function m(t){var e=(t.x0+t.x1)/2*180/Math.PI,n=(t.y0+t.y1)/1.15*(290/6);return"rotate(".concat(e-90,") translate(").concat(n,",0) rotate(").concat(e<180?0:180,")")}o.node()}(function(t){var e={name:"zipcode",children:[{name:"$10m <",children:[]},{name:"$1m < $10m",children:[]},{name:"$500k < $1m",children:[]},{name:"$200k to $500k",children:[]},{name:"< $200k",children:[]}]},n=[{},{},{},{},{}];return t.forEach((function(t){var e=parseInt(t.fullval),r=t.bldgcl;e>=1e7?s(r,0,n):e<1e7&&e>=1e6?s(r,1,n):e<1e6&&e>=5e5?s(r,2,n):e<5e5&&e>=2e5?s(r,3,n):e<2e5&&s(r,4,n)})),n.forEach((function(t,n){for(var r in t){var o=[],i=t[r];for(var a in i)o.push({name:a,size:i[a]});e.children[n].children.push({name:r,children:o})}})),e}(t))}))};var r=e.append("svg").attr("x",0).attr("y",9).attr("shape-rendering","optimizeSpeed").append("g").attr("font-family",n.fontFamily),i=n.locality[0],c=r.append("g");c.append("rect").attr("width",n.width).attr("height",n.height).attr("class","option select-field").attr("fill",n.backgroundColor).style("stroke","#a0a0a0").style("stroke-width","1");var u=c.append("text").text(i).attr("x",n.padding).attr("y",n.height/2+n.fontSize/3).attr("font-size",n.fontSize).attr("fill",n.color);c.append("text").text("▼").attr("x",n.width-n.fontSize-n.padding).attr("y",n.height/2+(n.fontSize-2)/3).attr("font-size",n.fontSize-2).attr("fill",n.color),c.append("rect").attr("width",n.width).attr("height",n.height).style("fill","transparent").on("click",(function(){d3.event.stopPropagation();var t="block"===f.attr("display")?"none":"block";f.attr("display",t)}));var f=r.append("g").attr("transform","translate(0, ".concat(n.height,")")).attr("opacity",0),l=f.selectAll("g").data(n.locality).enter().append("g").on("click",(function(t){d3.event.stopPropagation(),i=t,u.text(i),n.changeHandler.call(this,t),f.attr("display","none")}));l.append("rect").attr("width",n.width).attr("height",n.optionHeight).attr("y",(function(t,e){return e*n.optionHeight})).attr("class","option").style("stroke",n.hoverColor).style("stroke-dasharray",(function(t,e){var r=[0,n.width,n.optionHeight,n.width,n.optionHeight];return 0===e?r=[n.width+n.optionHeight,n.width,n.optionHeight]:e===n.locality.length-1&&(r=[0,n.width,2*n.optionHeight+n.width]),r.join(" ")})).style("stroke-width",1).style("fill",n.backgroundColor),l.append("text").attr("x",n.padding).attr("y",(function(t,e){return e*n.optionHeight+n.optionHeight/2+n.fontSize/3})).text((function(t){return t})).attr("font-size",n.fontSize).attr("fill",n.color),l.append("rect").attr("width",n.width).attr("height",n.optionHeight).attr("y",(function(t,e){return e*n.optionHeight})).style("fill","transparent").on("mouseover",(function(){d3.select(d3.event.target.parentNode).select(".option").style("fill",n.hoverColor),d3.select(d3.event.target.parentNode).select("text").style("fill",n.hoverTextColor)})).on("mouseout",(function(){d3.select(d3.event.target.parentNode).select(".option").style("fill",n.backgroundColor),d3.select(d3.event.target.parentNode).select("text").style("fill",n.color)})),f.attr("display","none").attr("opacity",1),d3.select("body").on("click",(function(){f.attr("display","none")}))};window.addEventListener("DOMContentLoaded",(function(){window.map=new google.maps.Map(document.getElementById("map"),{zoom:11,center:{lat:40.7118186,lng:-74.050329},disableDefaultUI:!0}),d3.select(".boro-selector").append("svg").attr("id","dropdownSVG").attr("height",500).attr("width",200);var t=i["Chelsea and Clinton"];c(t)}))}]);
//# sourceMappingURL=main.js.map